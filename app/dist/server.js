var a0_0xbd67=['existsSync','.env','config','.env.example','MODE','server','env','URL_CAM_1','set','view\x20options','use','static','/public','log','cam1','cam2','get','/cam1.jpg','proxyRequest','close','Process\x20terminated','Server\x20ready','Listening\x20on\x20port\x20','\x20at\x20','__importDefault','__esModule','../../mjpeg-proxy','express','dotenv','default'];(function(_0x549d53,_0x5eb903){var _0x147917=function(_0x5f301){while(--_0x5f301){_0x549d53['push'](_0x549d53['shift']());}};_0x147917(++_0x5eb903);}(a0_0xbd67,0xae));var a0_0x3323=function(_0x4650c5,_0x3bdcf2){_0x4650c5=_0x4650c5-0x0;var _0x450e53=a0_0xbd67[_0x4650c5];return _0x450e53;};'use strict';var __importDefault=this&&this[a0_0x3323('0x0')]||function(_0x3a4f51){return _0x3a4f51&&_0x3a4f51[a0_0x3323('0x1')]?_0x3a4f51:{'default':_0x3a4f51};};Object['defineProperty'](exports,a0_0x3323('0x1'),{'value':!![]});const MjpegProxy=require(a0_0x3323('0x2'))['MjpegProxy'];const express=require(a0_0x3323('0x3'));const fs_1=__importDefault(require('fs'));const dotenv_1=__importDefault(require(a0_0x3323('0x4')));if(fs_1[a0_0x3323('0x5')][a0_0x3323('0x6')](a0_0x3323('0x7'))){dotenv_1[a0_0x3323('0x5')][a0_0x3323('0x8')]({'path':a0_0x3323('0x7')});}else{dotenv_1[a0_0x3323('0x5')][a0_0x3323('0x8')]({'path':a0_0x3323('0x9')});}const app=express();let server=null;const HTTP_PORT=0x17ac;if(process['env'][a0_0x3323('0xa')]==a0_0x3323('0xb')){}const cam1=process[a0_0x3323('0xc')][a0_0x3323('0xd')];const cam2=process[a0_0x3323('0xc')]['URL_CAM_2'];app[a0_0x3323('0xe')](a0_0x3323('0xf'),{'layout':![]});app[a0_0x3323('0x10')](express[a0_0x3323('0x11')](__dirname+a0_0x3323('0x12')));function startServer(){console[a0_0x3323('0x13')](a0_0x3323('0x14'),cam1);console['log'](a0_0x3323('0x15'),cam2);app[a0_0x3323('0x16')](a0_0x3323('0x17'),new MjpegProxy(cam1)[a0_0x3323('0x18')]);app[a0_0x3323('0x16')]('/cam2.jpg',new MjpegProxy(cam2)[a0_0x3323('0x18')]);if(server!=null){server[a0_0x3323('0x19')](()=>{console[a0_0x3323('0x13')](a0_0x3323('0x1a'));});}server=app['listen'](HTTP_PORT,()=>console[a0_0x3323('0x13')](a0_0x3323('0x1b')));console[a0_0x3323('0x13')](a0_0x3323('0x1c')+HTTP_PORT+a0_0x3323('0x1d')+new Date());}startServer();