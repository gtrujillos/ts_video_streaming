var a0_0x4213=['Process\x20terminated','Server\x20ready','\x20at\x20','__importDefault','__esModule','defineProperty','../../mjpeg-proxy','MjpegProxy','express','dotenv','default','existsSync','.env','config','.env.example','env','server','URL_CAM_1','URL_CAM_2','set','view\x20options','use','static','log','cam2','/cam1.jpg','proxyRequest','get','close'];(function(_0x32181f,_0x20bd98){var _0x59f52b=function(_0x573ab6){while(--_0x573ab6){_0x32181f['push'](_0x32181f['shift']());}};_0x59f52b(++_0x20bd98);}(a0_0x4213,0x77));var a0_0x56a8=function(_0x154998,_0xf14591){_0x154998=_0x154998-0x0;var _0x3ab621=a0_0x4213[_0x154998];return _0x3ab621;};'use strict';var __importDefault=this&&this[a0_0x56a8('0x0')]||function(_0x55ea97){return _0x55ea97&&_0x55ea97[a0_0x56a8('0x1')]?_0x55ea97:{'default':_0x55ea97};};Object[a0_0x56a8('0x2')](exports,a0_0x56a8('0x1'),{'value':!![]});const MjpegProxy=require(a0_0x56a8('0x3'))[a0_0x56a8('0x4')];const express=require(a0_0x56a8('0x5'));const fs_1=__importDefault(require('fs'));const dotenv_1=__importDefault(require(a0_0x56a8('0x6')));if(fs_1[a0_0x56a8('0x7')][a0_0x56a8('0x8')](a0_0x56a8('0x9'))){dotenv_1[a0_0x56a8('0x7')][a0_0x56a8('0xa')]({'path':a0_0x56a8('0x9')});}else{dotenv_1[a0_0x56a8('0x7')][a0_0x56a8('0xa')]({'path':a0_0x56a8('0xb')});}const app=express();let server=null;const HTTP_PORT=0x3c;if(process[a0_0x56a8('0xc')]['MODE']==a0_0x56a8('0xd')){}const cam1=process[a0_0x56a8('0xc')][a0_0x56a8('0xe')];const cam2=process['env'][a0_0x56a8('0xf')];app[a0_0x56a8('0x10')](a0_0x56a8('0x11'),{'layout':![]});app[a0_0x56a8('0x12')](express[a0_0x56a8('0x13')](__dirname+'/public'));function startServer(){console['log']('cam1',cam1);console[a0_0x56a8('0x14')](a0_0x56a8('0x15'),cam2);app['get'](a0_0x56a8('0x16'),new MjpegProxy(cam1)[a0_0x56a8('0x17')]);app[a0_0x56a8('0x18')]('/cam2.jpg',new MjpegProxy(cam2)['proxyRequest']);if(server!=null){server[a0_0x56a8('0x19')](()=>{console['log'](a0_0x56a8('0x1a'));});}server=app['listen'](HTTP_PORT,()=>console['log'](a0_0x56a8('0x1b')));console['log']('Listening\x20on\x20port\x20'+HTTP_PORT+a0_0x56a8('0x1c')+new Date());}startServer();